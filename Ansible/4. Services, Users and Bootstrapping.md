- The services like the Apache server are not automatically started in the Cent OS like OS so we need to manipulate the server so that it starts the server.
- So we can use the `service` module in the ansible to do so so that the service will be manipulated.
```
tasks:
    - name: install mariadb server on CentOS
      tags: db,mariadb,centos
      yum:
        name: mariadb-server
        state: latest
      when: ansible_distribution == "CentOS"  
    - name: Start mariadb service on centos
      tags: db,mariadb,centos
      service:
        name: mariadb
        state: started 
      when: ansible_distribution == "CentOS"
```
- So here we had installed the `mariadb` and started the server for it we can also can do it for the httpd, etc. Then if we want to enable the service so that it will start automatically during the startup then just add the `enabled: yes` below the `state`.
- Then when we want a service to be restarted after a configuration change we use the same `service` for that purpose use the `lineinfile` module to change the content of a config file of the httpd.
```
 - name: Change the file for httpd
      tags: file,httpd,apache
      lineinfile:
        path: /etc/httpd/conf/httpd.conf
        regexp: '^ServerAdmin'
        line: ServerAdmin somebody@somebody.com
      when: ansible_distribution == "CentOS"
      register: var_name
    - name: Restart the httpd service when change in file
      tags: httpd,centos
      service:
        name: httpd
        state: restarted
      when: var_name.changed
```
- Here the httpd configuration file named `httpd.conf` is changed where we use the `regex` to find the admin email line in the file. Then the next `line` will change the content. Then the service module is used to set restart and also notice the variable names var_name in `register`. This variable is used to check if there is a change in the file then the `service` restart will take place. 
- And a point to note is that don't use the same variable name for different plays so that if one play state is changed then the next play with same name will also change so that there will be chaos.
## User Management:
- 