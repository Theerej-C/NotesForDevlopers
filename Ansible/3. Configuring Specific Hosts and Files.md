- So when there are different types of servers like DB server, Web server, Etc then we need to configure them differently for different use case. So we are going to use the grouping mechanism in the inventory file like:
```
[web_servers]
ubu@192.168.56.106 apache_package=apache2 php_package=libapache2-mod-php
[db_server]
cent@192.168.56.107
```
- So when we divide the sections or groups using the names then we can set different playbooks for different things like the db server, web server, etc
- So now when we need to use it we set new play book like:
```
---
- hosts: all
  become: true
  tasks:
    - name: install updates (centos)
      yum:
        update_only: yes
        update_cache: yes
      when: ansible_distribution == "CentOS"
    - name: install updates (Ubuntu)
      apt:
        update_cache: yes
      when: ansible_distribution == "Ubuntu"
- hosts: web_servers
  become: true
  tasks:
    - name: add apache2 and php support for web servers
      apt:
        name:
          - apache2 
          - libapache2-mod-php
        state: latest
      when: ansible_distribution in ["Ubuntu", "Debian"]
- hosts: db_server
  become: true
  tasks:
    - name: install mariadb server on CentOS
      yum:
        name: mariadb
        state: latest
      when: ansible_distribution == "CentOS"  
```
- So this will run different configurations to different groups so that there is a huge advantage. We need to mention the group name in the `hosts` attribute.
- Instead of `tasks` when we give `pre_tasks` then the tasks under this will always run first.
#### Tags:
- Tags are the syntax which is used to specifically do some jobs to some nodes like the db tag for the database servers so that we can use that tag to identify db servers.
- Tag is pretty simple and place right after the name of the play:
```
- hosts: all
  become: true
  tasks:
    - name: install updates (centos)
      tags: always
      yum:
        update_only: yes
        update_cache: yes
      when: ansible_distribution == "CentOS"
    - name: install updates (Ubuntu)
      tags: always
      apt:
        update_cache: yes
      when: ansible_distribution == "Ubuntu"
```
- The `always` tag is that it always run and we can set any name to the tag. To list all the tags use `ansible-playbook --list-tags site_3.yml`.  Then use the `--tags TAGNAMES` in the `ansible-playbook` command to set the tags. `ansible-playbook --tags db --ask-become-password site.yml`. When we want multiple tags then we use the syntax of `"db,apache"`.
## Files:
- We can use the plays to copy files to the specific server and in our case I will change the HTML file to the server from the files folder.
- 